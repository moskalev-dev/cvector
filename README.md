# cvector

![Alt Text](https://github.com/moskalev-dev/cvector/blob/main/target/resources/logo.png)

#
# RU:
–ü—Ä–æ—Å—Ç–∞—è –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ C –ø–æ–¥–æ–±–Ω–∞—è –æ–±—ä–µ–∫—Ç—É vector 
–∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ C++,—Å —É–¥–æ–±–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö 
–¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä,
–∏—Å–ø–æ–ª—å–∑—É—é—â–∞—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É,
–≤ –∫–æ—Ç–æ—Ä–æ–π —Ç–∏–ø –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ cv_byte* –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤–µ –±–∞–π—Ç.\
–í–µ–∫—Ç–æ—Ä –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–∞–∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π, —Ç–∞–∫ –∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ 
–∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —É–º–µ–Ω—à–µ–Ω–∏—è —Ä–µ–∞–ª–ª–æ–∫–∞—Ü–∏–π –∏ —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.\
–ü–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å std::vector –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –≤–µ—Ä—Å–∏–∏ –≤–µ–∫—Ç–æ—Ä–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏
–Ω–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Ä–µ–∞–ª–ª–æ–∫–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å —Ä–µ–∑–µ—Ä–≤–æ–º –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è 
–æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–∞–ª–ª–æ–∫–∞—Ü–∏–π –ø–æ —Ñ–æ—Ä–º—É–ª–µ: 
[—Ç–µ–∫—É—â–µ–µ –∫–æ–ª–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ + (—Ç–µ–∫—É—â–µ–µ –∫–æ–ª–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ / 2)].\
–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–æ–≥–¥–∞ —Ä–∞–∑–º–µ—Ä —Ä–µ–∑–µ—Ä–≤–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª—å—à–∏–º, 
—Ç–∞–∫–∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–∞–ª–ª–æ–∫–∞—Ü–∏—è (–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ) –ø–∞–º—è—Ç–∏.\
–†–∞–∑–º–µ—Ä –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ capacity().\
–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (CMake –ø—Ä–æ–µ–∫—Ç) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ "target".

### üöÄ –î–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏ –≤–µ–∫—Ç–æ—Ä–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
```c
cvector* vector = NULL;  // —Å–æ–∑–¥–∞—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
vector = cvector_new (0, sizeof(int));  // –∞–ª–ª–æ—Ü–∏—Ä–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –≤–µ–∫—Ç–æ—Ä –≤ –ø–∞–º—è—Ç–∏ 
```
–í —Ñ—É–Ω–∫—Ü–∏—é cvector_new:
 - –ü–µ—Ä–≤—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º (max_item) –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∏–∑–Ω–∞–∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ
–≤–µ–∫—Ç–æ—Ä–∞: max_item = 0 - –≤–µ–∫—Ç–æ—Ä –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, 
max_item > 0 -  –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ö—Ä–∞–Ω—è—â–µ–µ—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
 - –í—Ç–æ—Ä—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º (item_size) –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Ä–∞–∑–º–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –±–∞–π—Ç–∞—Ö.
 
### üöÄ –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Ñ—É–Ω–∫—Ü–∏—è–º:
```c
int a = 8;
cv_byte = vector->push(vector, (cv_byte*)&a);

cv_byte = vector->pop(vector);

int *at = (int*)vector->at(vector,0);

unsigned long = vector->count(vector);

unsigned long = vector->capacity(vector);

cv_byte = vector->empty(vector);

int b = 9;
cv_byte = vector->replace(vector, 0, (cv_byte*)&b);

cv_byte = vector->remove(vector, 0);

vector->clear(vector);

vector->free(vector);
vector = NULL;
```

### ‚öôÔ∏è –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:
 - size - –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö (–≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤) –≤ –±–∞–π—Ç–∞—Ö;
 - count - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –≤–µ–∫—Ç–æ—Ä–µ;
 - capacity - –†–∞–∑–º–µ—Ä –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ –ø–æ–¥ –≤–µ–∫—Ç–æ—Ä –≤ –±–∞–π—Ç–∞—Ö;
 - empty - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –≤–µ–∫—Ç–æ—Ä–µ;
 - push - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –∫–æ–Ω–µ—Ü O(1);
 - pop - –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ –∫–æ–Ω—Ü–∞ O(1);
 - replace - –ó–∞–º–µ–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É O(1);
 - remove - –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É O(log n);
 - at - –ß—Ç–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É O(1);
 - clear - –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –±–∞–π—Ç–æ–≤ –∏ —Ä–µ–∞–ª–æ–∫–∞—Ü–∏—è –¥–æ –æ–¥–Ω–æ–≥–æ –±–∞–π—Ç–∞;
 - free - –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ (—É–¥–∞–ª–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–∞ –∏–∑ –ø–∞–º—è—Ç–∏).


#
# EN:
A simple C vector library similar to the vector object
from the C++ standard library, with a user-friendly interface that supports all 
other types and user-defined structures
that use a universal structure
in which the type is passed as cv_byte* and stored in a byte array.\
A vector can be created either dynamically expandable or
with a fixed number of elements to reduce realizations and increase productivity.\
By analogy with std::vector in the dynamic version of a vector, when
a new element is added, memory is reallocated with a reserve to reduce 
the total number of realocations according to the formula: 
[current number of elements + (current number of elements / 2)].\
When deleting items, when the reserve size becomes large,
the memory is also deallocated. \
The size of the reserved memory can be found using the capacity() function. \
An example of how the library works (CMake project) is located in the "target" directory.

### üöÄ To allocate a vector in memory, you must:
```c
cvector* vector = NULL; // create a pointer to the structure
vector = cvector_new (0, sizeof(int)); // alocate the vector in memory
```
To the cvector_new function:
 - The first parameter (max_item) indicates the dynamic
vector: max_item = 0 is a vector of dynamic size,
max_item > 0 is the maximum number of elements stored.
 - The second parameter (item_size) specifies the size of the item in bytes.
 
### üöÄ Example of accessing functions:
```c
int a = 8;
cv_byte = vector->push(vector, (cv_byte*)&a);

cv_byte = vector->pop(vector);

int *at = (int*)vector->at(vector,0);

unsigned long = vector->count(vector);

unsigned long = vector->capacity(vector);

cv_byte = vector->empty(vector);

int b = 9;
cv_byte = vector->replace(vector, 0, (cv_byte*)&b);

cv_byte = vector->remove(vector, 0);

vector->clear(vector);

vector->free(vector);
vector = NULL;
```

### ‚öôÔ∏è The library has the following functions:
- size - The size of the data (of all elements) in bytes;
- count - The number of elements in the vector;
- capacity - The size of the allocated memory for the vector in bytes;
- empty - Check for the presence of elements in the vector;
- push - Adding an element to the end of O(1);
- pop - Removing an element from the end of O(1);
- replace - Replacing an element by the O(1) index;
- remove - Deleting an element by index O(log n);
- at - Reading an element by index O(1);
- clear - Delete all bytes and realocate to one byte;
- free - Freeing memory (deleting a vector from memory).










